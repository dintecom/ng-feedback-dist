!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/common"),require("@angular/forms"),require("@angular/material/button"),require("@angular/material/checkbox"),require("@angular/material/dialog"),require("@angular/material/icon"),require("@angular/material/input"),require("@angular/material/progress-spinner"),require("@angular/material/tooltip"),require("rxjs"),require("rxjs/operators"),require("html2canvas"),require("@angular/cdk/overlay")):"function"==typeof define&&define.amd?define("ng-feedback",["exports","@angular/core","@angular/common","@angular/forms","@angular/material/button","@angular/material/checkbox","@angular/material/dialog","@angular/material/icon","@angular/material/input","@angular/material/progress-spinner","@angular/material/tooltip","rxjs","rxjs/operators","html2canvas","@angular/cdk/overlay"],t):t((e=e||self)["ng-feedback"]={},e.ng.core,e.ng.common,e.ng.forms,e.ng.material.button,e.ng.material.checkbox,e.ng.material.dialog,e.ng.material.icon,e.ng.material.input,e.ng.material["progress-spinner"],e.ng.material.tooltip,e.rxjs,e.rxjs.operators,e.html2canvas,e.ng.cdk.overlay)}(this,(function(e,t,o,i,n,a,r,s,l,c,h,d,g,p,u){"use strict";p=p&&p.hasOwnProperty("default")?p.default:p;var b=function(){};var f=function(){this.windowScrollY=window.scrollY,this.windowScrollX=window.scrollX};var v=function(){function e(){this.initialVariables={},this.highlightedColor="yellow",this.hiddenColor="black",this.screenshotCanvasSource=new d.Subject,this.screenshotCanvas$=this.screenshotCanvasSource.asObservable(),this.feedbackSource=new d.Subject,this.feedback$=this.feedbackSource.asObservable(),this.isDraggingToolbarSource=new d.Subject,this.isDraggingToolbar$=this.isDraggingToolbarSource.asObservable()}return e.prototype.initScreenshotCanvas=function(){var e=this,t=document.body;p(t,{logging:!1,width:document.documentElement.clientWidth,height:document.documentElement.clientHeight,x:document.documentElement.scrollLeft,y:document.documentElement.scrollTop,allowTaint:!0,useCORS:!0}).then((function(t){e.screenshotCanvasSource.next(t)}))},e.prototype.setCanvas=function(e){this.screenshotCanvasSource.next(e)},e.prototype.setFeedback=function(e){this.feedbackSource.next(e)},e.prototype.setIsDraggingToolbar=function(e){this.isDraggingToolbarSource.next(e)},e.prototype.getImgEle=function(e){var t=e.toDataURL("image/png"),o=document.createElement("img");return o.setAttribute("src",t),Object.assign(o.style,{position:"absolute",top:"50%",right:"0",left:"0",margin:"0 auto",maxHeight:"100%",maxWidth:"100%",transform:"translateY(-50%)"}),o},e.prototype.hideBackDrop=function(){document.getElementsByClassName("dialogBackDrop")[0].style.backgroundColor="initial"},e.prototype.showBackDrop=function(){var e=document.getElementsByClassName("dialogBackDrop")[0];e.getAttribute("data-html2canvas-ignore")||e.setAttribute("data-html2canvas-ignore","true"),e.style.backgroundColor="rgba(0, 0, 0, .288)"},e.decorators=[{type:t.Injectable}],e}();var m=function(){function e(e,t,o,i){this.dialogRef=e,this.feedbackService=t,this.detector=o,this.el=i,this.showToolbar=!1,this.vars={},this.feedback=new b,this.includeScreenshot=!0,this.showSpinner=!0,this.showToolbarTips=!0,this.drawColor=this.feedbackService.highlightedColor,this.rectangles=[],this.scrollWidth=document.documentElement.scrollWidth,this.scrollHeight=document.documentElement.scrollHeight,this.elCouldBeHighlighted=["button","a","span","em","i","h1","h2","h3","h4","h5","h6","p","strong","small","sub","sup","b","time","img","video","input","label","select","textarea","article","summary","section"],this.isDrawingRect=!1,this.feedback=new b,this.feedback.description="",this.vars=this.feedbackService.initialVariables}return e.prototype.ngAfterViewInit=function(){var e=this;this.feedbackService.screenshotCanvas$.subscribe((function(t){e.showSpinner=!1,e.feedback.screenshot=t.toDataURL("image/png"),e.screenshotEle=e.feedbackService.getImgEle(t),e.appendScreenshot()})),this.feedbackService.isDraggingToolbar$.subscribe((function(t){t?e.destroyCanvasListeners():e.addCanvasListeners()})),this.dialogRef.afterClosed().subscribe((function(t){!0===t&&e.feedbackService.setFeedback(e.feedback)})),this.feedbackService.showBackDrop()},e.prototype.expandDrawingBoard=function(){this.showToolbar=!0,this.drawCanvas||(this.detector.detectChanges(),this.initBackgroundCanvas(),this.feedbackService.hideBackDrop()),this.addCanvasListeners(),this.el.nativeElement.appendChild(this.drawCanvas),this.feedbackService.hideBackDrop(),console.log("expand the board")},e.prototype.onEscapeKeyDownHandler=function(e){this.showToolbar=!1,this.includeScreenshot=!0,this.detector.detectChanges(),this.dialogRef.close("key down esc to close")},e.prototype.manipulate=function(e){"done"===e?(this.showToolbarTips=!1,this.showSpinner=!0,this.destroyCanvasListeners(),this.showToolbar=!1,this.detector.detectChanges(),this.feedbackService.initScreenshotCanvas()):this.startDraw(e)},e.prototype.startDraw=function(e){this.drawColor=e},e.prototype.isIncludeScreenshot=function(){this.includeScreenshot?(this.detector.detectChanges(),this.showSpinner=!1,this.appendScreenshot(),this.feedback.screenshot=this.screenshotEle.getAttribute("src")):(delete this.feedback.screenshot,this.showSpinner=!0)},e.prototype.appendScreenshot=function(){this.screenshotParent&&this.screenshotParent.nativeElement.appendChild(this.screenshotEle)},e.prototype.initBackgroundCanvas=function(){this.drawCanvas=document.getElementById("draw-canvas"),this.drawCanvas.style.height=this.scrollHeight+"",this.drawCanvas.style.width=this.scrollWidth+"",this.drawCanvas.height=this.scrollHeight,this.drawCanvas.width=this.scrollWidth,this.drawContainerRect()},e.prototype.drawContainerRect=function(){var e=this.drawCanvas.getContext("2d"),t=this.scrollWidth,o=this.scrollHeight;e.beginPath(),e.fillStyle="rgba(0,0,0,0.3)",e.clearRect(0,0,t,o),e.fillRect(0,0,t,o)},e.prototype.drawRectangle=function(e){var t=this,o=this.drawCanvas.getContext("2d");o.lineJoin="round",o.beginPath(),e.color===this.feedbackService.hiddenColor?(o.fillStyle="rgba(31, 31, 31, 0.75)",o.fillRect(e.startX,e.startY,e.width,e.height),o.rect(e.startX,e.startY,e.width,e.height)):(o.clearRect(e.startX,e.startY,e.width,e.height),o.lineWidth=5,o.strokeStyle=e.color,o.rect(e.startX,e.startY,e.width,e.height),o.stroke(),o.clearRect(e.startX,e.startY,e.width,e.height),this.rectangles.forEach((function(e){e.color===t.feedbackService.highlightedColor&&o.clearRect(e.startX,e.startY,e.width,e.height)})))},e.prototype.addCanvasListeners=function(){var e=d.fromEvent(document.documentElement,"mouseup"),t=d.fromEvent(document.documentElement,"mousemove"),o=d.fromEvent(document.documentElement,"mousedown"),i=d.fromEvent(window,"scroll");this.manuallyDrawRect(o,t,e),this.autoDrawRect(t),this.changeRectPosition(i)},e.prototype.changeRectPosition=function(e){var t=this;e.subscribe((function(e){var o=window.scrollX,i=window.scrollY;t.rectangles.forEach((function(e){e.startY=e.startY-(i-e.windowScrollY),e.startX=e.startX-(o-e.windowScrollX),e.windowScrollY=i,e.windowScrollX=o})),t.drawPersistCanvasRectangles()}),(function(e){return console.error(e)}))},e.prototype.destroyCanvasListeners=function(){this.manuallyDrawRect$&&this.manuallyDrawRect$.unsubscribe(),this.autoDrawRect$&&this.autoDrawRect$.unsubscribe()},e.prototype.manuallyDrawRect=function(e,t,o){var i=this,n=e.pipe(g.mergeMap((function(e){i.showToolbarTips&&(i.showToolbarTips=!1),i.autoDrawRect$.unsubscribe(),i.isDrawingRect=!0;var n=new f;return n.startX=e.clientX,n.startY=e.clientY,n.color=i.drawColor,t.pipe(g.map((function(t){return n.width=t.clientX-e.clientX,n.height=t.clientY-e.clientY,n})),g.finalize((function(){if(void 0===n.width||void 0===n.height||0===n.width||0===n.height){var o=i.drawTempCanvasRectangle(e);o&&i.rectangles.push(o)}else n.height<0&&(n.startY=n.startY+n.height,n.height=Math.abs(n.height)),n.width<0&&(n.startX=n.startX+n.width,n.width=Math.abs(n.width)),i.rectangles.push(n);i.drawPersistCanvasRectangles(),i.autoDrawRect(t),i.isDrawingRect=!1})),g.takeUntil(o))})));this.manuallyDrawRect$=n.subscribe((function(e){i.drawPersistCanvasRectangles(),i.drawRectangle(e)}))},e.prototype.autoDrawRect=function(e){var t=this;this.autoDrawRect$=e.subscribe({next:function(e){t.drawPersistCanvasRectangles(),t.drawTempCanvasRectangle(e)},error:function(e){return console.error("something wrong occurred: "+e)}})},e.prototype.drawPersistCanvasRectangles=function(){var e=this;this.drawContainerRect(),this.rectangles.forEach((function(t){e.drawRectangle(t)}))},e.prototype.drawTempCanvasRectangle=function(e){var t=null,o=e.clientX,i=e.clientY,n=document.elementsFromPoint(o,i),a=n[2];if(!this.isExcludeRect(n)&&a&&this.elCouldBeHighlighted.indexOf(a.nodeName.toLowerCase())>-1){t=new f;var r=a.getBoundingClientRect();this.drawCanvas.style.cursor="pointer",Object.assign(t,{startX:r.left,startY:r.top,width:r.width,height:r.height,color:this.drawColor}),this.drawRectangle(t)}else this.drawCanvas.style.cursor="crosshair";return t},e.prototype.closeRect=function(e){this.rectangles.splice(e,1),this.drawPersistCanvasRectangles()},e.prototype.isExcludeRect=function(e){return e.some((function(e){return"true"===e.getAttribute("exclude-rect")}))},e.decorators=[{type:t.Component,args:[{selector:"feedback-dialog",template:'<div class="dialog" *ngIf="!showToolbar" data-html2canvas-ignore="true">\n  <div class="dialog-title">\n    <div class="title-font">\n      {{vars[\'title\']}}\n    </div>\n  </div>\n  <div class="dialog-content">\n    <div class="description-tips">\n      <div *ngIf="feedback.description==\'\'">{{vars[\'placeholder\']}}</div>\n    </div>\n    <textarea\n      autofocus\n      class="description"\n      [(ngModel)]="feedback.description"\n    ></textarea>\n  </div>\n  <div class="screenshot-checkbox">\n    <mat-checkbox [(ngModel)]="includeScreenshot" (change)="isIncludeScreenshot()">{{vars[\'checkboxLabel\']}}</mat-checkbox>\n  </div>\n\n  <div #screenshotParent class="screenshot-content" (click)="expandDrawingBoard()" *ngIf="includeScreenshot">\n    <mat-spinner class="loading" [diameter]="30" ></mat-spinner>\n    <div></div>\n    <div class="screenshot-tips" *ngIf="!showSpinner">\n      <svg focusable="false" aria-label="" viewBox="0 0 24 24">\n        <path\n          d="M21 17h-2.58l2.51 2.56c-.18.69-.73 1.26-1.41 1.44L17 18.5V21h-2v-6h6v2zM19 7h2v2h-2V7zm2-2h-2V3.08c1.1 0 2 .92 2 1.92zm-6-2h2v2h-2V3zm4 8h2v2h-2v-2zM9 21H7v-2h2v2zM5 9H3V7h2v2zm0-5.92V5H3c0-1 1-1.92 2-1.92zM5 17H3v-2h2v2zM9 5H7V3h2v2zm4 0h-2V3h2v2zm0 16h-2v-2h2v2zm-8-8H3v-2h2v2zm0 8.08C3.9 21.08 3 20 3 19h2v2.08z"></path>\n      </svg>\n      <span class="screenshot-tips-content">{{vars[\'editTip\']}}</span>\n    </div>\n  </div>\n\n  <mat-dialog-actions class="dialog-actions" align="end">\n    <button mat-button (click)="dialogRef.close()" class="action-button">{{vars[\'cancelLabel\']}}</button>\n    <button mat-button (click)="dialogRef.close(true)" class="submit-button action-button">{{vars[\'sendLabel\']}}</button>\n  </mat-dialog-actions>\n</div>\n<div *ngIf="showToolbar" data-html2canvas-ignore="true">\n  <div class="toolbar-tips" *ngIf="showToolbarTips">\n    {{vars[\'drawRectTip\']}}\n  </div>\n\n  <feedback-toolbar [drawColor]="drawColor" (manipulate)="manipulate($event)"></feedback-toolbar>\n</div>\n<div *ngFor="let rectangle of rectangles; index as index" >\n    <feedback-rectangle [rectangle]="rectangle" [noHover]="!showToolbar || isDrawingRect" (close)="closeRect(index)">\n    </feedback-rectangle>\n</div>\n<canvas id="draw-canvas" class="drawCanvas" [ngClass]="{\'pointerCursor\': !showToolbar}"></canvas>\n',styles:[".dialog{z-index:1000;position:relative;width:360px;background-color:#fff}.dialog-title{background-color:#607d8b;color:#fff;height:56px}.title-font{color:#fff;float:left;font-style:normal;font-variant:normal;font-weight:300;font-stretch:normal;font-size:20px;line-height:56px;font-family:Roboto,RobotoDraft,Helvetica,Arial,sans-serif;padding:0 16px;margin:0}.dialog-content{display:-webkit-flex;flex-grow:1;height:200px;position:relative}.description{border:none;box-sizing:border-box;box-shadow:none;color:#212121;flex-grow:1;font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:16px;line-height:normal;font-family:Roboto,RobotoDraft,Helvetica,Arial,sans-serif;max-width:100%;outline:0;padding:18px 16px 0;resize:none;width:100%;height:inherit}.description-tips{color:#bdbdbd;display:block;font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:16px;line-height:normal;font-family:Roboto,RobotoDraft,Helvetica,Arial,sans-serif;left:0;position:absolute;padding:18px 16px 0;right:0}.screenshot-checkbox{padding:0 16px;background-color:#f8f8f8;height:40px;display:flex;flex-direction:column;justify-content:center}.screenshot-content{border:none;cursor:pointer;text-align:center;display:block;position:relative;padding:0;overflow:hidden;height:192px;width:100%;background:#ededed}.screenshot-tips{align-items:center;background-color:rgba(248,248,248,.6);border-radius:4px;box-sizing:border-box;display:-webkit-flex;flex-direction:column;justify-content:center;min-height:112px;width:224px;z-index:5;position:absolute;top:50%;right:0;bottom:0;left:0;transform:translateY(-50%);margin:0 auto}.screenshot-content:hover .screenshot-tips{background-color:rgba(248,248,248,.8)}.screenshot-content:hover .screenshot-tips-content{color:#4285f4}.screenshot-content:hover svg{color:#4285f4;fill:currentColor}.screenshot-tips svg{color:#757575;fill:currentColor;height:48px;width:48px}.screenshot-tips-content{color:#757575;font-weight:400;font-size:14px;line-height:20px;font-family:Roboto,RobotoDraft,Helvetica,Arial,sans-serif;margin-top:12px}.dialog-actions{border-top:1px solid #e0e0e0}.submit-button{margin-right:8px!important;margin-left:5px!important;color:#4285f4}.action-button{font-style:normal;font-variant:normal;font-weight:500;font-stretch:normal;font-size:14px;height:35px;line-height:normal;margin:10px 0;padding:0 8px;position:relative;min-width:75px}.loading{margin:0 auto;position:absolute;top:45%;bottom:0;left:0;right:0}.mat-dialog-actions{padding:0!important}::ng-deep .feedbackDialog .mat-dialog-container{padding:0;overflow:visible;background-color:rgba(255,255,255,0);box-shadow:initial}.toolbar-tips{background-color:rgba(255,255,255,.6);border-radius:12px;color:#757575;font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:34px;line-height:40px;font-family:Roboto,RobotoDraft,Helvetica,Arial,sans-serif;margin-top:calc(22px * 2 + 56px);margin-bottom:72px;padding:22px 0;text-align:center;visibility:visible;width:656px;height:auto;-webkit-animation:0s ease-in 5s forwards cssAnimation;animation:0s ease-in 5s forwards cssAnimation}@keyframes cssAnimation{to{width:0;height:0;overflow:hidden}}@-webkit-keyframes cssAnimation{to{width:0;height:0;visibility:hidden}}.drawCanvas{position:absolute;top:0;left:0;z-index:-1;margin:0 auto;cursor:crosshair}.pointerCursor{cursor:default!important}"]}]}],e.ctorParameters=function(){return[{type:r.MatDialogRef},{type:v},{type:t.ChangeDetectorRef},{type:t.ElementRef}]},e.propDecorators={screenshotParent:[{type:t.ViewChild,args:["screenshotParent",{static:!1}]}],onEscapeKeyDownHandler:[{type:t.HostListener,args:["document:keydown.escape",["$event"]]}]},e}();var w=function(){function e(e,o){this.el=e,this.feedbackService=o,this.manipulate=new t.EventEmitter,this.disableToolbarTips=!1,this.isSwitch=!1,this.isDragging=!1,this.vars={},this.vars=o.initialVariables}return e.prototype.ngAfterViewInit=function(){var e=this.el.nativeElement.style;e.position="absolute",e.left="43%",e.top="22px",this.addDragListenerOnMoveBtn()},e.prototype.ngOnChanges=function(){this.isSwitch=this.drawColor!==this.feedbackService.highlightedColor},e.prototype.done=function(){this.manipulate.emit("done")},e.prototype.toggleHighlight=function(){this.isSwitch=!1,this.manipulate.emit(this.feedbackService.highlightedColor)},e.prototype.toggleHide=function(){this.isSwitch=!0,this.manipulate.emit(this.feedbackService.hiddenColor)},e.prototype.addDragListenerOnMoveBtn=function(){var e=this,t=d.fromEvent(this.toggleMoveBtn.nativeElement,"mouseup"),o=d.fromEvent(document.documentElement,"mousemove");d.fromEvent(this.toggleMoveBtn.nativeElement,"mousedown").pipe(g.mergeMap((function(i){e.feedbackService.setIsDraggingToolbar(!0);var n=i.offsetX,a=i.offsetY;return e.disableToolbarTips=!0,e.isDragging=!0,o.pipe(g.map((function(e){return e.preventDefault(),{left:e.clientX-n,top:e.clientY-a}})),g.finalize((function(){e.isDragging=!1,e.disableToolbarTips=!1,e.feedbackService.setIsDraggingToolbar(!1)})),g.takeUntil(t))}))).subscribe((function(t){e.el.nativeElement.style.left=t.left+"px",e.el.nativeElement.style.top=t.top+"px"}))},e.decorators=[{type:t.Component,args:[{selector:"feedback-toolbar",template:'<div exclude-rect="true" class="toolbar">\n  <div class="move-toolbar" #toggleMove [matTooltip]="vars[\'moveToolbarTip\']" [matTooltipDisabled]="disableToolbarTips">\n    <svg focusable="false" aria-label="Drag" fill="#BDBDBD" height="56" width="16"\n         viewBox="-2 2 12 12">\n      <circle cx="1.5" cy="1.5" r="1.5"></circle>\n      <circle cx="1.5" cy="7.5" r="1.5"></circle>\n      <circle cx="1.5" cy="13.5" r="1.5"></circle>\n      <circle cx="6.5" cy="1.5" r="1.5"></circle>\n      <circle cx="6.5" cy="7.5" r="1.5"></circle>\n      <circle cx="6.5" cy="13.5" r="1.5"></circle>\n    </svg>\n  </div>\n  <button #highlightBtn (click)="toggleHighlight()" [matTooltip]="vars[\'highlightTip\']"\n          [matTooltipDisabled]="disableToolbarTips" class="highlight-toggle" [ngClass]="{\'deepen-color\': !isSwitch}">\n    <span class="toggle">\n      <svg focusable="false" aria-label="" viewBox="0 0 24 24" height="36" width="36"\n           fill="#ffd740">\n        <path d="M3 3h18v18H3z"></path>\n      </svg>\n\n      <svg focusable="false" aria-label="" fill="#757575" viewBox="0 0 24 24"\n           height="36" width="36" [ngClass]="{\'toggle-decorator\': !isSwitch}" *ngIf="!isSwitch">\n        <path\n          d="M21 17h-2.58l2.51 2.56c-.18.69-.73 1.26-1.41 1.44L17 18.5V21h-2v-6h6v2zM19 7h2v2h-2V7zm2-2h-2V3.08c1.1 0 2 .92 2 1.92zm-6-2h2v2h-2V3zm4 8h2v2h-2v-2zM9 21H7v-2h2v2zM5 9H3V7h2v2zm0-5.92V5H3c0-1 1-1.92 2-1.92zM5 17H3v-2h2v2zM9 5H7V3h2v2zm4 0h-2V3h2v2zm0 16h-2v-2h2v2zm-8-8H3v-2h2v2zm0 8.08C3.9 21.08 3 20 3 19h2v2.08z"></path>\n      </svg>\n    </span>\n  </button>\n  <button (click)="toggleHide()" [matTooltip]="vars[\'hideTip\']" [matTooltipDisabled]="disableToolbarTips"\n          class="hide-toggle" [ngClass]="{\'deepen-color\': isSwitch}">\n    <span class="toggle">\n      <svg focusable="false" aria-label="" viewBox="0 0 24 24" height="36" width="36"\n           fill="#000">\n        <path d="M3 3h18v18H3z"></path>\n      </svg>\n      <svg focusable="false" aria-label="" fill="#757575" viewBox="0 0 24 24"\n           height="36" width="36" [ngClass]="{\'toggle-decorator\': isSwitch}" *ngIf="isSwitch">\n        <path\n          d="M21 17h-2.58l2.51 2.56c-.18.69-.73 1.26-1.41 1.44L17 18.5V21h-2v-6h6v2zM19 7h2v2h-2V7zm2-2h-2V3.08c1.1 0 2 .92 2 1.92zm-6-2h2v2h-2V3zm4 8h2v2h-2v-2zM9 21H7v-2h2v2zM5 9H3V7h2v2zm0-5.92V5H3c0-1 1-1.92 2-1.92zM5 17H3v-2h2v2zM9 5H7V3h2v2zm4 0h-2V3h2v2zm0 16h-2v-2h2v2zm-8-8H3v-2h2v2zm0 8.08C3.9 21.08 3 20 3 19h2v2.08z"></path>\n      </svg>\n    </span>\n  </button>\n  <button mat-button class="merge-button" (click)="done()">{{vars[\'editDoneLabel\']}}</button>\n</div>\n',styles:[".toolbar{align-items:center;background-color:#fff;border-radius:2px;box-shadow:rgba(0,0,0,.14) 0 24px 38px 3px,rgba(0,0,0,.12) 0 9px 46px 8px,rgba(0,0,0,.2) 0 11px 15px -7px;cursor:pointer;display:-webkit-inline-flex;flex-direction:row;height:56px;min-width:232px;pointer-events:auto;overflow:visible;position:absolute;margin:0 auto;width:228px;bottom:0;top:25%;left:0;right:0;z-index:999}.move-toolbar{cursor:-webkit-grab;height:56px;padding:0 12px;position:relative}.move-toolbar:active{cursor:-webkit-grabbing}.toggle{display:inline-block;position:relative;height:36px;width:36px}.toggle-decorator{left:0;position:absolute;top:0}.highlight-toggle{align-items:center;background-color:#fff;border:none;box-sizing:border-box;cursor:pointer;display:-webkit-flex;justify-content:center;outline:0;padding:10px;pointer-events:auto;position:relative;height:56px;width:56px}.deepen-color{background-color:#e0e0e0!important}.hide-toggle{align-items:center;background-color:#fff;border:none;box-sizing:border-box;cursor:pointer;display:-webkit-flex;justify-content:center;outline:0;padding:10px;pointer-events:auto;position:relative;height:56px;width:56px}.merge-button{padding:0!important;margin:0 10px!important;min-width:56px;color:#4285f4}"]}]}],e.ctorParameters=function(){return[{type:t.ElementRef},{type:v}]},e.propDecorators={drawColor:[{type:t.Input}],manipulate:[{type:t.Output}],toggleMoveBtn:[{type:t.ViewChild,args:["toggleMove",{static:!0}]}]},e}();var x=function(){function e(e){this.feedbackService=e,this.close=new t.EventEmitter,this.showCloseTag=!1}return e.prototype.onMouseEnter=function(){this.showCloseTag=!1===this.noHover},e.prototype.onMouseLeave=function(){this.showCloseTag=!1},e.prototype.onClose=function(){this.close.emit()},e.decorators=[{type:t.Component,args:[{selector:"feedback-rectangle",template:'<div exclude-rect="true" class="rect" [ngStyle]="{\'left.px\': rectangle.startX,\n                              \'top.px\': rectangle.startY,\n                              \'width.px\': rectangle.width ,\n                              \'height.px\': rectangle.height }"\n    [ngClass]="{\'highlight\': rectangle.color === feedbackService.highlightedColor,\n                \'hide\': rectangle.color !== feedbackService.highlightedColor,\n                \'noHover\': noHover}">\n  <span exclude-rect="true" class="close" *ngIf="showCloseTag" (click)="onClose()">\n    <svg viewBox="0 0 1024 1024"\n         width="16" height="16">\n        <path\n          d="M896 224l-96-96-288 288-288-288-96 96 288 288-288 288 96 96 288-288 288 288 96-96-288-288 288-288z"></path>\n    </svg>\n  </span>\n</div>\n',styles:[".rect{position:fixed;background:0 0;z-index:3}.highlight:not(.noHover):hover{cursor:default;background:rgba(55,131,249,.2)}.hide{background-color:#000}.hide:not(.noHover):hover{background-color:rgba(31,31,31,.75)}.rect .close{width:24px;height:24px;background:#fff;border-radius:50%;justify-content:center;align-items:center;color:#999;position:absolute;right:-12px;top:-12px;cursor:pointer;display:flex;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}"]}]}],e.ctorParameters=function(){return[{type:v}]},e.propDecorators={rectangle:[{type:t.Input}],noHover:[{type:t.Input}],close:[{type:t.Output}],onMouseEnter:[{type:t.HostListener,args:["mouseenter"]}],onMouseLeave:[{type:t.HostListener,args:["mouseleave"]}]},e}();var y=function(){function e(e,o,i){var n=this;this.dialogRef=e,this.feedbackService=o,this.title="Send feedback",this.placeholder="Describe your issue or share your ideas",this.editTip="Click to highlight or hide info",this.checkboxLabel="Include screenshot",this.cancelLabel="CANCEL",this.sendLabel="SEND",this.moveToolbarTip="move toolbar",this.drawRectTip="Draw using yellow to highlight issues or black to hide sensitive info",this.highlightTip="highlight issues",this.hideTip="hide sensitive info",this.editDoneLabel="DONE",this.send=new t.EventEmitter,this.feedbackService.feedback$.subscribe((function(e){n.send.emit(e)})),this.overlay=i}return e.prototype.onClick=function(){this.openFeedbackDialog()},e.prototype.openFeedbackDialog=function(){this.feedbackService.initScreenshotCanvas(),this.dialogRef.open(m,{panelClass:"feedbackDialog",backdropClass:"dialogBackDrop",disableClose:!0,height:"auto",width:"auto",scrollStrategy:this.overlay.scrollStrategies.reposition()})},e.prototype.ngOnInit=function(){this.feedbackService.initialVariables={title:this.title,placeholder:this.placeholder,editTip:this.editTip,checkboxLabel:this.checkboxLabel,cancelLabel:this.cancelLabel,sendLabel:this.sendLabel,moveToolbarTip:this.moveToolbarTip,drawRectTip:this.drawRectTip,highlightTip:this.highlightTip,hideTip:this.hideTip,editDoneLabel:this.editDoneLabel}},e.decorators=[{type:t.Directive,args:[{selector:"[feedback]"}]}],e.ctorParameters=function(){return[{type:r.MatDialog},{type:v},{type:u.Overlay}]},e.propDecorators={title:[{type:t.Input}],placeholder:[{type:t.Input}],editTip:[{type:t.Input}],checkboxLabel:[{type:t.Input}],cancelLabel:[{type:t.Input}],sendLabel:[{type:t.Input}],moveToolbarTip:[{type:t.Input}],drawRectTip:[{type:t.Input}],highlightTip:[{type:t.Input}],hideTip:[{type:t.Input}],editDoneLabel:[{type:t.Input}],send:[{type:t.Output}],onClick:[{type:t.HostListener,args:["click"]}]},e}();var k=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{declarations:[m,w,x,y],imports:[r.MatDialogModule,n.MatButtonModule,s.MatIconModule,l.MatInputModule,h.MatTooltipModule,o.CommonModule,i.FormsModule,a.MatCheckboxModule,c.MatProgressSpinnerModule],exports:[y],entryComponents:[m],providers:[v]}]}],e}();e.Feedback=b,e.FeedbackModule=k,e.ɵa=m,e.ɵb=v,e.ɵc=w,e.ɵd=x,e.ɵe=y,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=ng-feedback.umd.min.js.map