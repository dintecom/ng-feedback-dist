{"version":3,"file":"ng-feedback.js","sources":["ng://ng-feedback/lib/entity/feedback.ts","ng://ng-feedback/lib/entity/rectangle.ts","ng://ng-feedback/lib/feedback.service.ts","ng://ng-feedback/lib/feedback-dialog/feedback-dialog.component.ts","ng://ng-feedback/lib/feedback-toolbar/feedback-toolbar.component.ts","ng://ng-feedback/lib/feedback-rectangle/feedback-rectangle.component.ts","ng://ng-feedback/lib/feedback.directive.ts","ng://ng-feedback/lib/feedback.module.ts"],"sourcesContent":["export class Feedback {\n  public description: string;\n  public screenshot: string;\n}\n","export class Rectangle {\n  public startX: number;\n  public startY: number;\n  public width: number;\n  public height: number;\n  public color: string;\n  public windowScrollY: number = window.scrollY;\n  public windowScrollX: number = window.scrollX;\n}\n","import { Injectable } from '@angular/core';\nimport html2canvas from 'html2canvas';\nimport { Subject, Observable } from 'rxjs';\nimport { Feedback } from './entity/feedback';\n\n@Injectable()\nexport class FeedbackService {\n  public initialVariables: object = {};\n  public highlightedColor = 'yellow';\n  public hiddenColor = 'black';\n  private screenshotCanvasSource = new Subject<HTMLCanvasElement>();\n  public screenshotCanvas$: Observable<HTMLCanvasElement> = this.screenshotCanvasSource.asObservable();\n\n  private feedbackSource = new Subject<Feedback>();\n  public feedback$: Observable<Feedback> = this.feedbackSource.asObservable();\n\n  private isDraggingToolbarSource = new Subject<boolean>();\n  public isDraggingToolbar$: Observable<boolean> = this.isDraggingToolbarSource.asObservable();\n\n  public initScreenshotCanvas() {\n    const body = document.body;\n    html2canvas(body, {\n      logging: false,\n      width: document.documentElement.clientWidth,\n      height: document.documentElement.clientHeight,\n      x: document.documentElement.scrollLeft,\n      y: document.documentElement.scrollTop,\n      allowTaint : true,\n      useCORS: true\n    }).then(bodyCanvas => {\n      this.screenshotCanvasSource.next(bodyCanvas);\n    });\n  }\n\n  public setCanvas(canvas: HTMLCanvasElement): void {\n    this.screenshotCanvasSource.next(canvas);\n  }\n\n  public setFeedback(feedback: Feedback): void {\n    this.feedbackSource.next(feedback);\n  }\n\n  public setIsDraggingToolbar(isDragging: boolean): void {\n    this.isDraggingToolbarSource.next(isDragging);\n  }\n\n  public getImgEle(canvas): HTMLElement {\n    const img = canvas.toDataURL('image/png'),\n          imageEle = document.createElement('img');\n    imageEle.setAttribute('src', img);\n    Object.assign(imageEle.style, {\n      position: 'absolute',\n      top: '50%',\n      right: '0',\n      left: '0',\n      margin: '0 auto',\n      maxHeight: '100%',\n      maxWidth: '100%',\n      transform: 'translateY(-50%)'\n    });\n    return imageEle;\n  }\n\n  public hideBackDrop() {\n    const dialogBackDrop = document.getElementsByClassName('dialogBackDrop')[0] as HTMLElement;\n    dialogBackDrop.style.backgroundColor = 'initial';\n  }\n\n  public showBackDrop() {\n    const dialogBackDrop = document.getElementsByClassName('dialogBackDrop')[0] as HTMLElement;\n    if (!dialogBackDrop.getAttribute('data-html2canvas-ignore')) {\n      dialogBackDrop.setAttribute('data-html2canvas-ignore', 'true');\n    }\n    dialogBackDrop.style.backgroundColor = 'rgba(0, 0, 0, .288)';\n  }\n}\n","import { Component, AfterViewInit, ViewChild, ElementRef, ChangeDetectorRef, HostListener } from '@angular/core';\nimport { Observable, Subscription, fromEvent } from 'rxjs';\nimport { takeUntil, finalize, map, mergeMap } from 'rxjs/operators';\nimport { MatDialogRef } from '@angular/material/dialog';\nimport { Feedback } from '../entity/feedback';\nimport { Rectangle } from '../entity/rectangle';\nimport { FeedbackService } from '../feedback.service';\n\n@Component({\n  selector: 'feedback-dialog',\n  templateUrl: './feedback-dialog.component.html',\n  styleUrls: ['./feedback-dialog.component.css']\n})\nexport class FeedbackDialogComponent implements AfterViewInit {\n  public showToolbar = false;\n  public vars: object = {};\n  public feedback = new Feedback();\n  public includeScreenshot: boolean = true;\n  public showSpinner = true;\n  public screenshotEle: HTMLElement;\n  public drawCanvas: HTMLCanvasElement;\n  public showToolbarTips: boolean = true;\n  @ViewChild('screenshotParent', { static: false })\n  public screenshotParent: ElementRef;\n  public drawColor: string = this.feedbackService.highlightedColor;\n  public rectangles: Rectangle[] = [];\n  private scrollWidth = document.documentElement.scrollWidth;\n  private scrollHeight = document.documentElement.scrollHeight;\n  private elCouldBeHighlighted = ['button', 'a', 'span', 'em', 'i', 'h1', 'h2', 'h3', 'h4',\n    'h5', 'h6', 'p', 'strong', 'small', 'sub', 'sup', 'b', 'time', 'img',\n    'video', 'input', 'label', 'select', 'textarea', 'article', 'summary', 'section'];\n  // the flag field 'isManuallyDrawRect' to solve conflict between manually draw and auto draw\n  private manuallyDrawRect$: Subscription;\n  private autoDrawRect$: Subscription;\n  public isDrawingRect: boolean = false;\n\n  constructor(public dialogRef: MatDialogRef<FeedbackDialogComponent>,\n              private feedbackService: FeedbackService,\n              private detector: ChangeDetectorRef,\n              private el: ElementRef) {\n    this.feedback = new Feedback();\n    this.feedback.description = '';\n    this.vars = this.feedbackService.initialVariables;\n  }\n\n  public ngAfterViewInit() {\n    this.feedbackService.screenshotCanvas$.subscribe((canvas) => {\n      this.showSpinner = false;\n      this.feedback.screenshot = canvas.toDataURL('image/png');\n      this.screenshotEle = this.feedbackService.getImgEle(canvas);\n      this.appendScreenshot();\n    });\n\n    this.feedbackService.isDraggingToolbar$.subscribe((isDragging) => {\n      if (isDragging) {\n        this.destroyCanvasListeners();\n      } else {\n        this.addCanvasListeners();\n      }\n    });\n\n    this.dialogRef.afterClosed().subscribe((sendNow) => {\n      if (sendNow === true) {\n        this.feedbackService.setFeedback(this.feedback);\n      }\n    });\n    this.feedbackService.showBackDrop();\n  }\n\n  public expandDrawingBoard() {\n    this.showToolbar = true;\n    if (!this.drawCanvas) {\n      this.detector.detectChanges();\n      this.initBackgroundCanvas();\n      this.feedbackService.hideBackDrop();\n    }\n    this.addCanvasListeners();\n    this.el.nativeElement.appendChild(this.drawCanvas);\n    this.feedbackService.hideBackDrop();\n    console.log('expand the board');\n  }\n\n  @HostListener('document:keydown.escape', ['$event'])\n  public onEscapeKeyDownHandler(evt: KeyboardEvent) {\n    this.showToolbar = false;\n    this.includeScreenshot = true;\n    this.detector.detectChanges();\n    this.dialogRef.close('key down esc to close');\n  }\n\n  public manipulate(manipulation: string) {\n    if (manipulation === 'done') {\n      this.showToolbarTips = false;\n      this.showSpinner = true;\n      this.destroyCanvasListeners();\n      this.showToolbar = false;\n      this.detector.detectChanges();\n      this.feedbackService.initScreenshotCanvas();\n    } else {\n      this.startDraw(manipulation);\n    }\n  }\n\n  public startDraw(color: string) {\n    this.drawColor = color;\n  }\n\n  public isIncludeScreenshot() {\n    if (this.includeScreenshot) {\n      this.detector.detectChanges();\n      this.showSpinner = false;\n      this.appendScreenshot();\n      this.feedback.screenshot = this.screenshotEle.getAttribute('src');\n    } else {\n      delete this.feedback['screenshot'];\n      this.showSpinner = true;\n    }\n  }\n\n  private appendScreenshot() {\n    if (this.screenshotParent) { this.screenshotParent.nativeElement.appendChild(this.screenshotEle); }\n  }\n\n  private initBackgroundCanvas() {\n    this.drawCanvas = document.getElementById('draw-canvas') as HTMLCanvasElement;\n    // The canvas to draw, must use this way to initial the height and width\n    this.drawCanvas.style.height = this.scrollHeight + '';\n    this.drawCanvas.style.width = this.scrollWidth + '';\n    this.drawCanvas.height = this.scrollHeight;\n    this.drawCanvas.width = this.scrollWidth;\n    this.drawContainerRect();\n  }\n\n  private drawContainerRect() {\n    const drawContext = this.drawCanvas.getContext('2d'),\n      width = this.scrollWidth,\n      height = this.scrollHeight;\n    drawContext.beginPath();\n    drawContext.fillStyle = 'rgba(0,0,0,0.3)';\n    drawContext.clearRect(0, 0, width, height);\n    drawContext.fillRect(0, 0, width, height); // draw the rectangle\n  }\n\n  private drawRectangle(rect: Rectangle) {\n    const context = this.drawCanvas.getContext('2d');\n    context.lineJoin = 'round';\n    context.beginPath();\n    if (rect.color === this.feedbackService.hiddenColor) {\n      context.fillStyle = 'rgba(31, 31, 31, 0.75)';\n      context.fillRect(rect.startX, rect.startY, rect.width, rect.height);\n      context.rect(rect.startX, rect.startY, rect.width, rect.height);\n    } else {\n      context.clearRect(rect.startX, rect.startY, rect.width, rect.height);\n      context.lineWidth = 5;\n      context.strokeStyle = rect.color;\n      context.rect(rect.startX, rect.startY, rect.width, rect.height);\n      context.stroke();\n      context.clearRect(rect.startX, rect.startY, rect.width, rect.height);\n      this.rectangles.forEach(tmpRect => {\n        if (tmpRect.color === this.feedbackService.highlightedColor) {\n          context.clearRect(tmpRect.startX, tmpRect.startY, tmpRect.width, tmpRect.height);\n        }\n      });\n    }\n  }\n\n  private addCanvasListeners(): void {\n    const mouseUp = fromEvent(document.documentElement, 'mouseup'),\n          mouseMove = fromEvent(document.documentElement, 'mousemove'),\n          mouseDown = fromEvent(document.documentElement, 'mousedown'),\n          scroll = fromEvent(window, 'scroll');\n\n    this.manuallyDrawRect(mouseDown, mouseMove, mouseUp);\n    this.autoDrawRect(mouseMove);\n    this.changeRectPosition(scroll);\n  }\n\n  private changeRectPosition(scroll: Observable<Event>) {\n    scroll.subscribe(\n      event => {\n        const currentWindowScrollX = window.scrollX,\n              currentWindowScrollY = window.scrollY;\n        this.rectangles.forEach(rect => {\n          rect.startY = rect.startY - (currentWindowScrollY - rect.windowScrollY);\n          rect.startX = rect.startX - (currentWindowScrollX - rect.windowScrollX);\n          rect.windowScrollY = currentWindowScrollY;\n          rect.windowScrollX = currentWindowScrollX;\n        });\n        this.drawPersistCanvasRectangles();\n      },\n      error => console.error(error)\n    );\n  }\n\n  private destroyCanvasListeners(): void {\n    if (this.manuallyDrawRect$) { this.manuallyDrawRect$.unsubscribe(); }\n    if (this.autoDrawRect$) { this.autoDrawRect$.unsubscribe(); }\n  }\n\n  private manuallyDrawRect(mouseDown: Observable<Event>, mouseMove: Observable<Event>, mouseUp: Observable<Event>): void {\n    const mouseDrag = mouseDown.pipe(mergeMap((mouseDownEvent: MouseEvent) => {\n      if (this.showToolbarTips) { this.showToolbarTips = false; }\n      this.autoDrawRect$.unsubscribe();\n      this.isDrawingRect = true;\n\n      const newRectangle = new Rectangle();\n      newRectangle.startX = mouseDownEvent.clientX;\n      newRectangle.startY = mouseDownEvent.clientY;\n      newRectangle.color = this.drawColor;\n\n      return mouseMove.pipe(\n        map((mouseMoveEvent: MouseEvent) => {\n          newRectangle.width = mouseMoveEvent.clientX - mouseDownEvent.clientX;\n          newRectangle.height = mouseMoveEvent.clientY - mouseDownEvent.clientY;\n          return newRectangle;\n        }),\n        finalize(() => {\n          // click to draw rectangle\n          if (newRectangle.width === undefined || newRectangle.height === undefined ||\n            newRectangle.width === 0 || newRectangle.height === 0) {\n            const rect = this.drawTempCanvasRectangle(mouseDownEvent);\n            if (rect) { this.rectangles.push(rect); }\n          } else {\n          // drag to draw rectangle\n            if (newRectangle.height < 0) {\n              newRectangle.startY = newRectangle.startY + newRectangle.height;\n              newRectangle.height = Math.abs(newRectangle.height);\n            }\n            if (newRectangle.width < 0) {\n              newRectangle.startX = newRectangle.startX + newRectangle.width;\n              newRectangle.width = Math.abs(newRectangle.width);\n            }\n            this.rectangles.push(newRectangle);\n          }\n          this.drawPersistCanvasRectangles();\n          this.autoDrawRect(mouseMove);\n          this.isDrawingRect = false;\n        }),\n        takeUntil(mouseUp));\n    }));\n\n    this.manuallyDrawRect$ = mouseDrag.subscribe(\n      (rec) => {\n        this.drawPersistCanvasRectangles();\n        this.drawRectangle(rec);\n      }\n    );\n  }\n\n  private autoDrawRect(mouseMove: Observable<Event>): void {\n    this.autoDrawRect$ = mouseMove.subscribe({\n      next: (mouseMoveEvent: MouseEvent) => {\n        this.drawPersistCanvasRectangles();\n        this.drawTempCanvasRectangle(mouseMoveEvent);\n      },\n      error: err => console.error('something wrong occurred: ' + err),\n    });\n  }\n\n  private drawPersistCanvasRectangles() {\n    this.drawContainerRect();\n    this.rectangles.forEach(tmpRect => {\n      this.drawRectangle(tmpRect);\n    });\n  }\n\n  private drawTempCanvasRectangle(event: MouseEvent) {\n    let rectangle: Rectangle = null;\n    const clientX = event.clientX,\n          clientY = event.clientY,\n          els = document.elementsFromPoint(clientX, clientY),\n          el = els[2];\n    if ((!this.isExcludeRect(els)) && el && this.elCouldBeHighlighted.indexOf(el.nodeName.toLowerCase()) > -1) {\n      rectangle = new Rectangle();\n      const rect = el.getBoundingClientRect();\n      this.drawCanvas.style.cursor = 'pointer';\n\n      Object.assign(rectangle, {\n        startX: rect.left,\n        startY: rect.top,\n        width: rect.width,\n        height: rect.height,\n        color: this.drawColor\n      });\n      this.drawRectangle(rectangle);\n    } else {\n      this.drawCanvas.style.cursor = 'crosshair';\n    }\n    return rectangle;\n  }\n\n  public closeRect(index: number) {\n    this.rectangles.splice(index, 1);\n    this.drawPersistCanvasRectangles();\n  }\n\n  private isExcludeRect(elements: Element[]): boolean {\n    const result = elements.some( el => {\n      return el.getAttribute('exclude-rect') === 'true';\n    });\n    return result;\n  }\n}\n","import { Component, ElementRef, Input, Output, EventEmitter, AfterViewInit, ViewChild, OnChanges } from '@angular/core';\nimport { fromEvent } from 'rxjs';\nimport { takeUntil, finalize, map, mergeMap } from 'rxjs/operators';\nimport { FeedbackService } from '../feedback.service';\n\n@Component({\n  selector: 'feedback-toolbar',\n  templateUrl: './feedback-toolbar.component.html',\n  styleUrls: ['./feedback-toolbar.component.css']\n})\nexport class FeedbackToolbarComponent implements AfterViewInit, OnChanges {\n  @Input()\n  public drawColor: string;\n  @Output()\n  public manipulate = new EventEmitter<string>();\n  public disableToolbarTips = false;\n  @ViewChild('toggleMove', { static: true })\n  private toggleMoveBtn: ElementRef;\n  public isSwitch = false;\n  public isDragging = false;\n  public vars: object = {};\n\n  constructor(public el: ElementRef, private feedbackService: FeedbackService) {\n    this.vars = feedbackService.initialVariables;\n  }\n\n  public ngAfterViewInit() {\n    const elStyle = this.el.nativeElement.style;\n    elStyle.position = 'absolute';\n    elStyle.left = '43%';\n    elStyle.top = '60%';\n    this.addDragListenerOnMoveBtn();\n  }\n\n  public ngOnChanges() {\n    this.isSwitch = this.drawColor !== this.feedbackService.highlightedColor;\n  }\n\n  public done() {\n    this.manipulate.emit('done');\n  }\n\n  public toggleHighlight() {\n    this.isSwitch = false;\n    this.manipulate.emit(this.feedbackService.highlightedColor);\n  }\n\n  public toggleHide() {\n    this.isSwitch = true;\n    this.manipulate.emit(this.feedbackService.hiddenColor);\n  }\n\n  public addDragListenerOnMoveBtn() {\n    const mouseUp = fromEvent(this.toggleMoveBtn.nativeElement, 'mouseup');\n    const mouseMove = fromEvent(document.documentElement, 'mousemove');\n    const mouseDown = fromEvent(this.toggleMoveBtn.nativeElement, 'mousedown');\n    const mouseDrag = mouseDown.pipe(mergeMap((md: MouseEvent) => {\n      this.feedbackService.setIsDraggingToolbar(true);\n      const startX = md.offsetX;\n      const startY = md.offsetY;\n      this.disableToolbarTips = true;\n      this.isDragging = true;\n      // Calculate dif with mousemove until mouseup\n      return mouseMove.pipe(\n        map((mm: MouseEvent) => {\n          mm.preventDefault();\n          return {\n            left: mm.clientX - startX,\n            top: mm.clientY - startY\n          };\n        }),\n        finalize(() => {\n          this.isDragging = false;\n          this.disableToolbarTips = false;\n          this.feedbackService.setIsDraggingToolbar(false);\n        }),\n        takeUntil(mouseUp));\n    }));\n    mouseDrag.subscribe(\n      (pos) => {\n        this.el.nativeElement.style.left = pos.left + 'px';\n        this.el.nativeElement.style.top = pos.top + 'px';\n      });\n  }\n}\n","import { Component, EventEmitter, HostListener, Input, Output } from '@angular/core';\nimport { Rectangle } from '../entity/rectangle';\nimport { FeedbackService } from '../feedback.service';\n\n@Component({\n  selector: 'feedback-rectangle',\n  templateUrl: './feedback-rectangle.component.html',\n  styleUrls: ['./feedback-rectangle.component.css']\n})\nexport class FeedbackRectangleComponent {\n  @Input()\n  public rectangle: Rectangle;\n  @Input()\n  public noHover: boolean;\n  @Output()\n  public close = new EventEmitter<boolean>();\n  public showCloseTag: boolean = false;\n\n  constructor(public feedbackService: FeedbackService) {\n  }\n\n  @HostListener('mouseenter')\n  public onMouseEnter(): void {\n    this.showCloseTag = this.noHover === false;\n  }\n\n  @HostListener('mouseleave')\n  public onMouseLeave(): void {\n    this.showCloseTag = false;\n  }\n\n  public onClose(): void {\n    this.close.emit();\n  }\n}\n","import { Directive, HostListener, EventEmitter, Output, Input, OnInit } from '@angular/core';\nimport { Overlay } from '@angular/cdk/overlay';\nimport { MatDialog } from '@angular/material/dialog';\nimport { FeedbackDialogComponent } from './feedback-dialog/feedback-dialog.component';\nimport { FeedbackService } from './feedback.service';\n\n@Directive({selector: '[feedback]'})\nexport class FeedbackDirective implements OnInit {\n  private overlay: Overlay;\n  @Input() title: string = 'Send feedback';\n  @Input() placeholder: string = 'Describe your issue or share your ideas';\n  @Input() editTip = 'Click to highlight or hide info';\n  @Input() checkboxLabel = 'Include screenshot';\n  @Input() cancelLabel = 'CANCEL';\n  @Input() sendLabel = 'SEND';\n  @Input() moveToolbarTip = 'move toolbar';\n  @Input() drawRectTip = 'Draw using yellow to highlight issues or black to hide sensitive info';\n  @Input() highlightTip = 'highlight issues';\n  @Input() hideTip = 'hide sensitive info';\n  @Input() editDoneLabel = 'DONE';\n  @Output() public send = new EventEmitter<object>();\n\n  public constructor(private dialogRef: MatDialog, private feedbackService: FeedbackService, overlay: Overlay) {\n    this.feedbackService.feedback$.subscribe(\n      (feedback) => {\n        this.send.emit(feedback);\n      }\n    );\n    this.overlay = overlay;\n  }\n\n  @HostListener('click')\n  public onClick() {\n    this.openFeedbackDialog();\n  }\n\n  public openFeedbackDialog() {\n    this.feedbackService.initScreenshotCanvas();\n    this.dialogRef.open(FeedbackDialogComponent, {\n      panelClass: 'feedbackDialog',\n      backdropClass: 'dialogBackDrop',\n      disableClose: true,\n      height: 'auto',\n      width: 'auto',\n      scrollStrategy: this.overlay.scrollStrategies.reposition()\n    });\n  }\n\n  ngOnInit(): void {\n    this.feedbackService.initialVariables = {\n      title: this.title,\n      placeholder: this.placeholder,\n      editTip: this.editTip,\n      checkboxLabel: this.checkboxLabel,\n      cancelLabel: this.cancelLabel,\n      sendLabel: this.sendLabel,\n      moveToolbarTip: this.moveToolbarTip,\n      drawRectTip: this.drawRectTip,\n      highlightTip: this.highlightTip,\n      hideTip: this.hideTip,\n      editDoneLabel: this.editDoneLabel\n    };\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatCheckboxModule } from '@angular/material/checkbox';\nimport { MatDialogModule } from '@angular/material/dialog';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport { FeedbackDialogComponent } from './feedback-dialog/feedback-dialog.component';\nimport { FeedbackToolbarComponent } from './feedback-toolbar/feedback-toolbar.component';\nimport { FeedbackRectangleComponent } from './feedback-rectangle/feedback-rectangle.component';\nimport { FeedbackService } from './feedback.service';\nimport { FeedbackDirective } from './feedback.directive';\n\n@NgModule({\n  declarations: [\n    FeedbackDialogComponent,\n    FeedbackToolbarComponent,\n    FeedbackRectangleComponent,\n    FeedbackDirective\n  ],\n  imports: [\n    MatDialogModule,\n    MatButtonModule,\n    MatIconModule,\n    MatInputModule,\n    MatTooltipModule,\n    CommonModule,\n    FormsModule,\n    MatCheckboxModule,\n    MatProgressSpinnerModule\n  ],\n  exports: [\n    FeedbackDirective\n  ],\n  entryComponents: [\n    FeedbackDialogComponent\n  ],\n  providers: [\n    FeedbackService\n  ]\n})\nexport class FeedbackModule {\n}\n"],"names":[],"mappings":"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"}